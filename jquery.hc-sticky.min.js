// jQuery HC-Sticky
// =============
// Version: 1.2
// Copyright: Some Web Media
// Author: Some Web Guy
// Author URL: http://twitter.com/some_web_guy
// Website: http://someweblog.com/
// Plugin URL: http://someweblog.com/hcsticky-jquery-floating-sticky-plugin/
// License: Released under the MIT License www.opensource.org/licenses/mit-license.php
// Description: Makes elements on your page float as you scroll

(function(c,f){c.fn.extend({pluginOptions:function(h,m,g,s){this.data(h)||this.data(h,{});if(h&&"undefined"==typeof m)return this.data(h).options;g=g||m||{};return"object"==typeof g||g===f?this.each(function(){var f=c(this);f.data(h).options?f.data(h,c.extend(f.data(h),{options:c.extend(f.data(h).options,g||{})})):(f.data(h,{options:c.extend(m,g||{})}),s&&(f.data(h).commands=s))}):"string"==typeof g?this.each(function(){c(this).data(h).commands[g].call(this)}):this}})})(jQuery);
(function(c,f,h){var m=c(f),g=f.document,s=c(g),z=function(){for(var c=3,b=g.createElement("div"),a=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e",a[0];);return 4<c?c:void 0}(),e=function(){var c=f.pageXOffset!==h?f.pageXOffset:"CSS1Compat"==g.compatMode?f.document.documentElement.scrollLeft:f.document.body.scrollLeft,b=f.pageYOffset!==h?f.pageYOffset:"CSS1Compat"==g.compatMode?f.document.documentElement.scrollTop:f.document.body.scrollTop;"undefined"==
typeof e.x&&(e.x=c,e.y=b);"undefined"==typeof e.distanceX?(e.distanceX=c,e.distanceY=b):(e.distanceX=c-e.x,e.distanceY=b-e.y);var a=e.x-c,d=e.y-b;e.direction=0>a?"right":0<a?"left":0>=d?"down":0<d?"up":"first";e.x=c;e.y=b};m.on("scroll",e);c.fn.style=function(e){if(!e)return null;var b=c(this),a,d=b.clone().css("display","none");d.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1));b.after(d);var h=function(a,c){var d;a.currentStyle?d=a.currentStyle[c.replace(/-\w/g,function(b){return b.toUpperCase().replace("-",
"")})]:f.getComputedStyle&&(d=g.defaultView.getComputedStyle(a,null).getPropertyValue(c));return d=/margin/g.test(c)?parseInt(d)===b[0].offsetLeft?d:"auto":d};"string"==typeof e?a=h(d[0],e):(a={},c.each(e,function(b,c){a[c]=h(d[0],c)}));d.remove();return a||null};c.fn.extend({hcSticky:function(g){if(0==this.length)return this;this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,
offResolutions:null,onStart:c.noop,onStop:c.noop,on:!0,fn:c.noop},g||{},{reinit:function(){c(this).hcSticky()},stop:function(){c(this).pluginOptions("hcSticky",{on:!1}).each(function(){var b=c(this),a=b.pluginOptions("hcSticky"),d=b.parent("."+a.wrapperClassName),d=b.offset().top-d.offset().top;b.css({position:"absolute",top:d,bottom:"auto",left:"auto",right:"auto"}).removeClass(a.className)})},off:function(){c(this).pluginOptions("hcSticky",{on:!1}).each(function(){var b=c(this),a=b.pluginOptions("hcSticky"),
d=b.parent("."+a.wrapperClassName);b.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(a.className);d.css("height","auto")})},on:function(){c(this).each(function(){c(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:m.scrollTop()}}).hcSticky()})}});g&&"undefined"!=typeof g.on&&(g.on?this.hcSticky("on"):this.hcSticky("off"));return"string"==typeof g?this:this.each(function(){var b=c(this),a=b.pluginOptions("hcSticky"),d=function(){var c=b.parent("."+a.wrapperClassName);
return 0<c.length?(c.css({height:b.outerHeight(!0),width:function(){var a=c.style("width");return 0<=a.indexOf("%")||"auto"==a?("border-box"==b.css("box-sizing")||"border-box"==b.css("-moz-box-sizing")?b.css("width",c.width()):b.css("width",c.width()-parseInt(b.css("padding-left")-parseInt(b.css("padding-right")))),a):b.outerWidth(!0)}()}),c):!1}()||function(){var k=b.style("width margin-left left right top bottom float display".split(" ")),d=b.css("display"),e=c("<div>",{"class":a.wrapperClassName}).css({display:d,
height:b.outerHeight(!0),width:function(){return 0<=k.width.indexOf("%")||"auto"==k.width&&"inline-block"!=d&&"inline"!=d?(b.css("width",parseFloat(b.css("width"))),k.width):"auto"!=k.width||"inline-block"!=d&&"inline"!=d?"auto"==k["margin-left"]?b.outerWidth():b.outerWidth(!0):b.width()}(),margin:k["margin-left"]?"auto":null,position:function(){var a=b.css("position");return"static"==a?"relative":a}(),"float":k["float"]||null,left:k.left,right:k.right,top:k.top,bottom:k.bottom,"vertical-align":"top"});
b.wrap(e);7===z&&0===c("head").find("style#hcsticky-iefix").length&&c('<style id="hcsticky-iefix">.'+a.wrapperClassName+" {zoom: 1;}</style>").appendTo("head");return b.parent()}();if(!b.data("hcStickyInit")){b.data("hcStickyInit",!0);var g=a.stickTo?"document"==a.stickTo||a.stickTo instanceof HTMLDocument?s:"string"==typeof a.stickTo?c(a.stickTo):a.stickTo:d.parent();b.css({top:"auto",bottom:"auto",left:"auto",right:"auto"});m.load(function(){b.outerHeight(!0)>g.height()&&(d.css("height",b.outerHeight(!0)),
b.hcSticky("reinit"))});var v=function(c){b.hasClass(a.className)||(c=c||{},b.css({position:"fixed",top:c.top||0,left:c.left||d.offset().left}).addClass(a.className),a.onStart.apply(this))},w=function(c){b.hasClass(a.className)&&(c=c||{},b.css({position:c.position||"absolute",top:c.top||0,left:c.left||0}).removeClass(a.className),a.onStop.apply(this))};b.pluginOptions("hcSticky",{fn:function(k){if(a.on&&!(b.outerHeight(!0)>=g.height())){var l=a.innerSticker?c(a.innerSticker).position().top:a.innerTop?
a.innerTop:0,f=d.offset().top,h=g.height()-a.bottomEnd+("document"==a.stickTo||a.stickTo instanceof HTMLDocument?0:f),n=d.offset().top-a.top+l,p=b.outerHeight(!0)+a.bottom,q=m.height(),r=m.scrollTop(),u=b.offset().top,s=u-r,t;"undefined"!=typeof a.remember&&a.remember?(k=u-a.top-l,p-l>q&&a.followScroll?k<r&&r+q<=k+b.height()&&(a.remember=!1):a.remember.offsetTop>k?r<=k&&(v({top:a.top-l}),a.remember=!1):r>=k&&(v({top:a.top-l}),a.remember=!1)):(r>n?h+a.bottom-(a.followScroll&&q<p?0:a.top)<=r+p-l-(p-
l>q-(n-l)&&a.followScroll?0<(t=p-q-l)?t:0:0)?w({top:h-p+a.bottom-f}):p-l>q&&a.followScroll?s+p<=q?"down"==e.direction?v({top:q-p}):0>s&&"fixed"==b.css("position")&&w({top:u-(n+a.top-l)-e.distanceY}):"up"==e.direction&&u>=r+a.top-l?v({top:a.top-l}):"down"==e.direction&&u+p>q&&"fixed"==b.css("position")&&w({top:u-(n+a.top-l)-e.distanceY}):v({top:a.top-l}):w(),!0===k&&b.css("top","fixed"==b.css("position")?a.top-l:0))}}});var t=!1,n=!1;m.on("resize",function(){x();y();var c=function(){"fixed"==b.css("position")?
b.css("left",d.offset().left):b.css("left",0)};if(a.responsive){n||(n=b.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),d.after(n));var e=d.style("width"),f=n.style("width");"auto"==f&&"auto"!=e&&(f=parseInt(b.css("width")));f!=e&&d.width(f);t&&clearTimeout(t);t=setTimeout(function(){t=!1;n.remove();n=!1;c()},100)}else c();b.outerWidth(!0)!=d.width()&&(e="border-box"==b.css("box-sizing")||"border-box"==b.css("-moz-box-sizing")?
d.width():d.width()-parseInt(b.css("padding-left"))-parseInt(b.css("padding-right")),e=e-parseInt(b.css("margin-left"))-parseInt(b.css("margin-right")),b.css("width",e))});var y=function(){if(a.offResolutions){c.isArray(a.offResolutions)||(a.offResolutions=[a.offResolutions]);var d=!0;c.each(a.offResolutions,function(a,c){0>c?m.width()<-1*c&&(d=!1,b.hcSticky("off")):m.width()>c&&(d=!1,b.hcSticky("off"))});d&&!a.on&&b.hcSticky("on")}};y();var x=function(){if(b.outerHeight(!0)<g.height()){var d=!1;
c._data(f,"events").scroll!=h&&c.each(c._data(f,"events").scroll,function(b,c){c.handler==a.fn&&(d=!0)});d||(a.fn(!0),m.on("scroll",a.fn))}};x()}})}})})(jQuery,this);